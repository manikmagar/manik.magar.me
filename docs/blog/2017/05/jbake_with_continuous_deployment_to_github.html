<!DOCTYPE HTML>
<!--
    Future Imperfect by HTML5 UP
    html5up.net | @n33co
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Maniks Scratchpad - Continuous Deployment of JBake Site to Github with CircleCI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Manik Magar">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <link rel="stylesheet" href="../../../css/google-font.css" />
    <link rel="stylesheet" href="../../../css/font-awesome.min.css" />
    <link rel="stylesheet" href="../../../css/main.css" />
    <link rel="stylesheet" href="../../../css/add-on.css" />
    <link rel="stylesheet" href="../../../css/monokai-sublime.css">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../../../img/favicon/favicon.png">
  </head>
  <body>
     <!-- Wrapper -->
        <div id="wrapper">

<!-- Header -->
<header id="header">
            <h2><a href="https://manik.magar.me">Maniks Scratchpad</i></a></h2>

    <nav class="links">
        <ul>
        			<li>
	                    <a href=" https://manik.magar.me">
	                       
	                            <i class="fa fa-home">&nbsp;</i>Home
	                        
	                    </a>
                	</li>
        		
        		 
        			<li>
	                    <a href=" ../../../archive.html">
	                       
	                            <i class="fa fa-archive">&nbsp;</i>Archive
	                        
	                    </a>
                	</li>
        		
        		 
        			<li>
	                    <a href=" ../../../about.html">
	                       
	                            <i class="fa fa-user">&nbsp;</i>About
	                        
	                    </a>
                	</li>
        		
        		 
        			<li>
	                    <a href=" ../../../feed.xml">
	                       
	                            <i class="fa fa-rss">&nbsp;</i>RSS
	                        
	                    </a>
                	</li>
        		
        		 
        </ul>
    </nav>
    <nav class="main">
        <ul>
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="q" value="site:https://manik.magar.me">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>

<!-- Menu -->
<section id="menu">

    <!-- Search -->
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="q" value="site:https://manik.magar.me">
            </form>
        </section>

    <!-- Links -->
        <section>
            <ul class="links">
        		 <li>
                    <a href=" https://manik.magar.me">
                       
                            <i class="fa fa-home">&nbsp;</i>Home
                        
                    </a>
                </li>
        		 <li>
                    <a href=" ../../../archive.html">
                       
                            <i class="fa fa-archive">&nbsp;</i>Archive
                        
                    </a>
                </li>
        		 <li>
                    <a href=" ../../../about.html">
                       
                            <i class="fa fa-user">&nbsp;</i>About
                        
                    </a>
                </li>
        		 <li>
                    <a href=" ../../../feed.xml">
                       
                            <i class="fa fa-rss">&nbsp;</i>RSS
                        
                    </a>
                </li>
            </ul>
        </section>

    <!-- Recent Posts -->
        <section>
            <ul class="links">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                    <li>
                        <a href="../../../../../../blog/2017/05/jbake_with_continuous_deployment_to_github.html"><p>Continuous Deployment of JBake Site to Github with CircleCI</p></a>
                    </li>
                    <li>
                        <a href="../../../../../../blog/2017/05/baking_static_blog_with_jbake.html"><p>Baking static blog with JBake</p></a>
                    </li>
            </ul>
        </section>

    <!-- Actions -->
        <!--
        <section>
            <ul class="actions vertical">
                <li><a href="#" class="button big fit">Log In</a></li>
            </ul>
        </section>
        -->
</section>
	<div id="main">
<article class="post">
   <header>
    <div class="title">
                    <h1><a href="../../../blog/2017/05/jbake_with_continuous_deployment_to_github.html">Continuous Deployment of JBake Site to Github with CircleCI</a></h1>

    </div>
    <div class="meta">
         <time class="published"
            datetime='May 15, 2017'>
            May 15, 2017</time>
            <div class="published eta"></div>
        <span class="author"/><span class="name">Manik Magar</span><img src="../../../img/main/avatar.png" alt="Manik Magar" /></span>
    </div>
</header>

    <section id="social-share">
        <ul class="icons">
<!-- Social Share Button HTML -->

<!-- Twitter -->
<li><a href="//twitter.com/share?url=https://manik.magar.me/blog/2017/05/jbake_with_continuous_deployment_to_github.html&text=Continuous Deployment of JBake Site to Github with CircleCI&via=manikmagar" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>

<!-- Google Plus -->
<li><a href="//plus.google.com/share?url=https://manik.magar.me/blog/2017/05/jbake_with_continuous_deployment_to_github.html" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>

<!-- Facebook -->
<li><a href="//www.facebook.com/sharer/sharer.php?u=https://manik.magar.me/blog/2017/05/jbake_with_continuous_deployment_to_github.html" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>

<!-- Reddit (url, title) -->
<li><a href="//reddit.com/submit?url=https://manik.magar.me/blog/2017/05/jbake_with_continuous_deployment_to_github.html&title=Continuous Deployment of JBake Site to Github with CircleCI" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>

<!-- LinkedIn -->
<li><a href="//www.linkedin.com/shareArticle?url=https://manik.magar.me/blog/2017/05/jbake_with_continuous_deployment_to_github.html&title=Continuous Deployment of JBake Site to Github with CircleCI" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>

<!-- StumbleUpon (url, title) -->
<li><a href="//www.stumbleupon.com/submit?url=https://manik.magar.me/blog/2017/05/jbake_with_continuous_deployment_to_github.html&title=Continuous Deployment of JBake Site to Github with CircleCI" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>

<!-- Email -->
<li><a href="mailto:?subject=Check out this post by Manik Magar&body=https://manik.magar.me/blog/2017/05/jbake_with_continuous_deployment_to_github.html" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>
        </ul>
    </section>
     

         
    <div id="content">
       <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this <a href="https://manik.magar.me/blog/2017/05/baking_static_blog_with_jbake.html" target="_blank">previous post</a>
we saw how we can create a static blog using JBake static site generator. Once you have your site ready,
next obvious question will be where to host the site? Off course there are many hosting
options available. One of the easy and free way to host static pages is with Github Pages.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">In this post, we will go over</dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Publish our JBake site to Github Pages.</p>
</li>
<li>
<p>Achieve continuous deployment of our site using CircleCI.</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_publish_jbake_site_to_github_pages">Publish JBake site to Github Pages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We will use the same template site we built in our <a href="https://manik.magar.me/blog/2017/05/baking_static_blog_with_jbake.html" target="_blank">previous post</a>
and publish a site called 'awesomejbake'.</p>
</div>
<div class="sect2">
<h3 id="_step_1_create_github_repository">Step 1: Create Github Repository</h3>
<div class="paragraph">
<p>Go to <a href="https://github.com/new" target="_blank">Github</a> and create new repository with name awesomebake as shown in below sample screenshot.
To keep it simple, keep "Initialize this repository with a README" option checked.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/blog/2017/05/images/jbake_with_continuous_deployment_to_github-create_repo.png" alt="jbake with continuous deployment to github create repo">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_checkout_and_bake_site_in_local">Step 2: Checkout and Bake Site in local</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We will use git command line client, if you don&#8217;t have git client installed,
read <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" target="_blank">this</a> for how to install it.</p>
</div>
<div class="paragraph">
<p>Follow below steps to setup local site:</p>
</div>
<div id="source" class="listingblock">
<div class="content">
<pre>mkdir ~/awesomejbake
cd ~/awesomejbake
git clone https://github.com/username/awesomejbake.git</pre>
</div>
</div>
<div class="paragraph">
<p><em>Dont forget to replace <code>username</code> with your Github username.</em></p>
</div>
<div class="paragraph">
<p>Now, copy the content of ~/awesome-jbake that we created in previous post and
paste content in ~/awesomejbake directory. So, we have our template site
in repo directory.</p>
</div>
<div class="paragraph">
<p>Github can either publish site from the root of the repo or a folder named <code>docs</code>
in the root of the repo. As we will be having other template files at the root of
the repo, let&#8217;s choose to use <code>docs</code> folder to publish our site.</p>
</div>
<div class="paragraph">
<p>To see our site in local, run this command while in username.github.io folder -</p>
</div>
<div class="paragraph">
<p><code>jbake -b . ./docs</code></p>
</div>
<div class="paragraph">
<p>This command will bake our jbake site and generate the output in <code>docs</code> instead
of default <code>output</code> folder.</p>
</div>
<div class="paragraph">
<p>To preview out site, run below command to serve it from <code>docs</code> folder -</p>
</div>
<div class="paragraph">
<p><code>jbake -s ./docs</code></p>
</div>
<div class="paragraph">
<p>So, we have our site ready to push to Github.</p>
</div>
<div class="sect2">
<h3 id="_push_site_to_github">Push site to Github</h3>
<div class="paragraph">
<p>To push our site to repo, follow below commands -</p>
</div>
<div id="source" class="listingblock">
<div class="content">
<pre>git add content assets templates jbake.properties docs
git commit -m "Upload awesome site"
git push</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_go_live_with_github_pages">Go Live with Github pages</h3>
<div class="paragraph">
<p>Go to Github Settings page for your repo - <a href="https://github.com/{username}/awesomejbake/settings" class="bare">https://github.com/{username}/awesomejbake/settings</a>
and scroll down to Github Pages section. Under Source section, select 'masterbranch /docs folder' and click save.</p>
</div>
<div class="paragraph">
<p>You should see your site url in header - <a href="http://{username}.github.io/awesomejbake" class="bare">http://{username}.github.io/awesomejbake</a>.
You can access your site at that URL. <strong>We are LIVE!</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="/blog/2017/05/images/jbake_with_continuous_deployment_to_github-setup-pages.png" alt="jbake with continuous deployment to github setup pages">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_continuous_deployment_to_github_using_circleci">Continuous Deployment to Github Using CircleCI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We have our site live at Github. We can now keep adding new content
in our ~/awesomejbake/content folder. Once we add content, we must bake our site
again and push the latest content and generated /docs to github. We can either bake locally or
go for online continuous deployment.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_option_1_local_baking_and_publish">Option 1: Local baking and Publish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Bake your site locally and commit/push baked content to github. Everytime you add/modify
content, you will follow part <strong>Step 2</strong> above to bake and push the site. This option
ties you to your local machine to publish your site.
Remember we saw <a href="https://manik.magar.me/blog/2017/05/baking_static_blog_with_jbake.html">few</a>
options to author your content online. You may not be able to take full advantage of online editing with this option.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_option_2_continuous_deployment_via_online_ci">Option 2: Continuous Deployment via Online CI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Another option is to use Continuous Integration services like <a href="https://circleci.com/" target="_blank">CircleCI</a>, <a href="https://travis-ci.org/" target="_blank">Travis-CI</a> etc.</p>
</div>
<div class="paragraph">
<p><strong>Step 1:</strong> Login/Sign up to <a href="https://circleci.com/add-projects" target="_blank">CircleCI</a> and build your project.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/blog/2017/05/images/jbake_with_continuous_deployment_to_github-build-circleci.png" alt="jbake with continuous deployment to github build circleci">
</div>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong> Add a <code>circle.yml</code> file in ~/awesomejbake/. Add below content to this file-</p>
</div>
<div id="source" class="listingblock">
<div class="content">
<pre>machine:
  pre:
    - git config --global user.name "CircleCI"
    - git config --global user.email "circleci@circleci.com"

dependencies:
  pre:
    - curl -s "https://get.sdkman.io" | bash
    - sdk install jbake 2.5.1

test:
  override:
    - sdk version
    - sdk current jbake

deployment:
  master:
    branch: master
    commands:
      - rm -rf docs/*
      - jbake -b . ./docs
      - git add docs
      - git commit --message "Generated site on $(date) [ci skip]"
      - git push origin master</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Step 3:</strong> Then push this file to github-</p>
</div>
<div id="source" class="listingblock">
<div class="content">
<pre>git circle.yml
git commit -m "Added circleci"
git push</pre>
</div>
</div>
<div class="paragraph">
<p>Next time when you add a content to your github repository, CircleCI should start the build and deploy new site back to docs folder.</p>
</div>
<div class="sect2">
<h3 id="_permissions_for_circleci_to_commit_to_your_repo">Permissions for CircleCI to Commit to your repo</h3>
<div class="paragraph">
<p>For git push to work from circle ci, you must add deploy key to circleci with <a href="https://circleci.com/docs/1.0/adding-read-write-deployment-key/" target="_blank">these instructions</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We built our JBake site and hosted it on Github Pages. Also, we saw how we can publish out site to github.</p>
</div>
<div class="paragraph">
<p>Hope this helps you to bake your own site. Keep Baking!</p>
</div>
</div>
</div>
    </div>

    <footer>
	
		<ul class="stats">
    	    <!-- Display the categories associated with this post -->
    	    <li><i class="fa fa-tags">&nbsp;</i>  Tags: </li>
 	        <li><a href='../../../tags/jbake.html'>jbake</a></li>
 	        <li><a href='../../../tags/ci-cd.html'>ci-cd</a></li>

				<li><a class="icon fa-comment" href="../../../blog/2017/05/jbake_with_continuous_deployment_to_github.html#disqus_thread"> &nbsp;</a></li>
 		</ul>
    	
    </footer>
</article>

<div class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'maniksblog';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <!--<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>-->
</div>
    </div>




<!-- Sidebar -->
<section id="sidebar">

    <!-- Intro -->
        <section id="intro">
                                    <a href="../../../" class="logo"><img src="../../../img/main/logo.jpg" class="intro-circle" width="150px" alt="Manik S Magar" /></a>
               
                 
                <header>
                    <h2>Maniks Scratchpad</h2>
                    <p>Hello and Welcome to my blog! Please fasten your seat belts while you ride through my train of thoughts.</p>
                </header>
                
            <ul class="icons">
                    <li><a href="feed.xml" type="application/rss+xml"
                        target="_blank" title="RSS" class="fa fa-rss"></a></li>
<li><a href="//github.com/manikmagar" target="_blank" title="GitHub" class="fa fa-github"></a></li>

















<li><a href="//linkedin.com/in/manikmagar" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>


<li><a href="//stackoverflow.com/users/mms.online" target="_blank" title="Stack Overflow" class="fa fa-stack-overflow"></a></li>





<li><a href="//twitter.com/manikmagar" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>

            </ul>
        </section>

    <!-- Posts List -->
        <section id="recent-posts">
            <ul class="posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
					
                    <li>
                        <article>
                            <header>
                                <h3><a href="../../../blog/2017/05/jbake_with_continuous_deployment_to_github.html">Continuous Deployment of JBake Site to Github with CircleCI</a></h3>
                                 <time class="published"
							            datetime='May 15, 2017'>
							            May 15, 2017</time>
                            </header>
                        </article>
                    </li>
					
                    <li>
                        <article>
                            <header>
                                <h3><a href="../../../blog/2017/05/baking_static_blog_with_jbake.html">Baking static blog with JBake</a></h3>
                                 <time class="published"
							            datetime='May 14, 2017'>
							            May 14, 2017</time>
                            </header>
                        </article>
                    </li>
				
            </ul>
        </section>

    <!-- Tags List can be show/hide from config-->
        <section id="tags">
            <ul class="posts">
                <header>
                    <h3>Tags</h3>
                </header>

                    <li>
                        <article>
                            <header>
                                <a href="../../../tags/jbake.html">jbake</a>
                                <!-- JBake 2.5.1 Issue#357 prevents accessing db, This can be enabled once issue is fixed. -->
                                <!-- <span style="float:right;"> (db.getPublishedPostsByTag(sideBarTag1).size()) </span>-->
                            </header>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <a href="../../../tags/ci-cd.html">ci-cd</a>
                                <!-- JBake 2.5.1 Issue#357 prevents accessing db, This can be enabled once issue is fixed. -->
                                <!-- <span style="float:right;"> (db.getPublishedPostsByTag(sideBarTag1).size()) </span>-->
                            </header>
                        </article>
                    </li>
            </ul>
        </section>
  

    <!-- About -->
        <section class="blurb">
            <h2>About</h2>
            <p>My name is Manik S Magar. I am Software Engineer who loves to work on any programming language and prgrammable device. Whatever you read on this blog are my personal thoughts and does not represent anyone else unless otherwise noted.</p>

            <ul class="actions">
                <li><a href="../../../about.html" class="button">Learn More</a></li>
            </ul>
        </section>


        <section id="footer">
            <p class="copyright">&copy; Maniks Scratchpad. Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a>. Ported For SSG by <a href="https://github.com/jpescador/hugo-future-imperfect">Julio Pescador</a>. Adapted to JBake by <a href="//github.com/manikmagar" target="_blank">Manik Magar</a>. Baked with <a href="http://jbake.org">JBake v2.5.1</a>.
            <a href="/sitemap.xml" target="_blank">Sitemap</a>.</p>
        </section>

</section>
		</div>
		<a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
		<div id="push"></div>
    </div>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

		<script src="../../../js/jquery.min.js"></script>
		<script src="../../../js/skel.min.js"></script>
		<script src="../../../js/util.js"></script>
		<script src="../../../js/main.js"></script>
		<script src="../../../js/backToTop.js"></script>
		<script src="../../../js/highlight.pack.js"></script>
		<script src="../../../js/readingTime.js"></script>

			<script id="dsq-count-scr" src="//maniksblog.disqus.com/count.js" async></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-78785354-1', 'auto');
  ga('send', 'pageview', {
    'page': 'blog/2017/05/jbake_with_continuous_deployment_to_github.html',
    'title': 'Continuous Deployment of JBake Site to Github with CircleCI'
      });
</script>
		<!-- This is called by default since this theme uses highlight.js -->
		<script>hljs.initHighlightingOnLoad();</script>
		<!--[if lte IE 8]><script src="/js/ie/respond.min.js"></script><![endif]-->

  </body>
</html>
